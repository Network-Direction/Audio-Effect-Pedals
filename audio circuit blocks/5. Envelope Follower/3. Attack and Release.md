# Attack and Release

More advanced envelope followers will contain additional features for controlling attributes such as:
* Attack
* Release
* Gain


</br></br>
## Basics of Attack and Release

[Attack and Release](https://github.com/Network-Direction/Audio-Effect-Pedals/blob/Wha-Pedals/Audio%20Theory/4.%20Envelope.md#adsr) are parameters of any envelope.

To oversimplify it, **attack** is the time it takes for a sound to build up to its full amplitude. Different instruments will behave differently here. A string section in an orchestra may use a slow attack, where they build up slowly to create anticipation. On the other hand, plucking strings on a guitar results in a fast attack, as the note increases to its full volume in a short time.

The **release** is the time it takes for the sound to fade out. This will also vary depending on the instrument

There are also other parameters like _decay_ and _sustain_, but we will keep it simple by focusing on attack and release for now.


</br></br>
## Attack and Release in Envelope Followers

In an envelope follower, _attack_ refers to how quickly the output voltage can raise to reach the peak of an input signal. Similarly, _release_ is how quickly the output voltage will drop when the amplitude of a signal goes down.

Take this example:

![image](https://github.com/user-attachments/assets/86eab91b-fba7-4f18-a8d4-2929f8bd4ef5)

</br></br>
In this image, the green wave is the input signal. The red line is the output voltage that represents the envelope.

In this example, the _attack_ is quick. The output voltage has no problems following the rise of the input signal. The _release_ however is slow. The output voltage drops at a slower rate than the input signal does.

Is this a good thing or a bad thing? It really depends on what you want. We don't always want an envelope follower to follow the input signal perfectly. Sometimes we just want a smooth approximation of the input signal. This is why many circuits will have potentiometers, so we can control the attack and release parameters to fit what we need.

Here is an example of an envelope filter that is creating an approximation of the input signal, rather than trying to faithfully recreate the waveform exactly:

![image](https://github.com/user-attachments/assets/3a711f54-d05c-406f-a521-7b67431e3e57)

</br></br>
In other cases, effects pedals may use a fixed attack and release value, to keep things simple for the user. It all depends on what you want to achieve.




Add: Precision peak detector (Opamp + diode) for better rectifier




</br></br>
# References

Envelope Follower / Attack Release (AR) Generator - https://therepaircafe.wordpress.com/2021/04/11/envelope-follower-attack-release-ar-generator/

Getting Started: envelopes, VCAs, and attenuators - https://noiseengineering.us/blogs/loquelic-literitas-the-blog/getting-started-envelopes-vcas-and-attenuators/

EEVblog #490 - Peak Detector Circuit - https://www.youtube.com/watch?v=jllsqRWhjGM

